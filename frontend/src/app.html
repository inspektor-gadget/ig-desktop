<!doctype html>
<html lang="en" class="h-full w-full overscroll-none">
	<head>
		<title>Inspektor Gadget</title>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#09090B" />
		<script>
			// Prevent flash of wrong theme (FOWT)
			(function () {
				const STORAGE_KEY = 'ig-configuration';
				const DARK_COLOR = '#09090B';
				const LIGHT_COLOR = '#f9fafb';

				let theme = 'dark'; // default
				try {
					const config = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
					theme = config.theme || 'dark';
				} catch (e) {
					// Use default
				}

				const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
				const isDark = theme === 'dark' || (theme === 'system' && prefersDark);

				if (isDark) {
					document.documentElement.classList.add('dark');
				}
				document
					.querySelector('meta[name="theme-color"]')
					?.setAttribute('content', isDark ? DARK_COLOR : LIGHT_COLOR);
			})();
		</script>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover" class="h-full w-full overscroll-none">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
